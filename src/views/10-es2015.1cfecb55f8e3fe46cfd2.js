(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"7M+/":function(l,n,u){"use strict";u.r(n);var t=u("8Y7J"),e=u("oaey"),a=u("wd/R");class o extends e.a{constructor(l){super(),this.statisticsService=l,this.data=[],this.chartData=[],this.chartLabels=[],this.loading=!0,this.queryLine="",this.currentType="worker",this.currentAverage="all",this.totalTime="",this.btnTypes=[{name:"worker",text:"I am worker"},{name:"owner",text:"I am owner of task"},{name:"owner-project",text:"I am owner of project"}],this.btnAverage=[{name:"day",text:"Day"},{name:"week",text:"Week"},{name:"months",text:"Months"},{name:"all",text:"All time"}]}ngOnInit(){this.getStatistics()}changeAndUpdateData(l){this.loading=!0,this.currentType=l,this.getStatistics()}updateStatsWithParams(l){this.currentAverage=l;const n={average:l};this.loading=!0;let u="?";for(let t in n)n[t]&&(u=u+t+"="+n[t]);1===u.length&&(u=""),this.queryLine=u,this.changeAndUpdateData(this.currentType)}getTime(l){return a.duration(l).format("HH:mm:ss",{trim:!1})}getStatistics(){this.data=[],this.statisticsService.getStats(this.currentType,this.queryLine).subscribe(l=>{this.data=l,this.createChart()})}createChart(){this.chartLabels=this.data.map(l=>l.name),this.chartData=[this.data.map(l=>l.total)];const l=this.chartData[0].reduce((l,n)=>l+n);this.totalTime=this.getTime(l),this.loading=!1}}class i{}var b=u("pMnS"),r=u("SVse"),c=u("hrfs");u("RiPy")(a);class s{constructor(){this.chartLabels=[],this.chartData=[],this.chartOptions={tooltips:{callbacks:{label:(l,n)=>n.labels[l.index]+": "+a.duration(n.datasets[0].data[l.index]).format("HH:mm:ss",{trim:!1})}}},this.doughnutChartType="doughnut"}ngOnInit(){}}var p=t.mb({encapsulation:0,styles:[[""]],data:{}});function h(l){return t.Eb(0,[(l()(),t.ob(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.ob(1,0,null,null,1,"canvas",[["baseChart",""]],null,null,null,null,null)),t.nb(2,999424,null,0,c.a,[t.k,c.c],{data:[0,"data"],labels:[1,"labels"],options:[2,"options"],chartType:[3,"chartType"]},null)],function(l,n){var u=n.component;l(n,2,0,u.chartData,u.chartLabels,u.chartOptions,u.doughnutChartType)},null)}function m(l){return t.Eb(0,[(l()(),t.db(16777216,null,null,1,null,h)),t.nb(1,16384,null,0,r.j,[t.N,t.K],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,1,0,u.chartData.length&&u.chartLabels.length)},null)}var d=u("qNcu"),f=u("/A5B"),v=u("lJxs"),g=u("yTb8");const D=(()=>{class l{constructor(l){this.baseHttp=l}getStats(l,n){return this.baseHttp.get("/statistics/"+l+"/"+n).pipe(Object(v.a)(l=>l))}}return l.ngInjectableDef=t.Gb({factory:function(){return new l(t.Kb(g.a))},token:l,providedIn:"root"}),l})();var k=t.mb({encapsulation:0,styles:[["li[_ngcontent-%COMP%]{list-style-type:circle}[_nghost-%COMP%]{padding-top:16px;display:block}button.active[_ngcontent-%COMP%]{background:red}"]],data:{}});function T(l){return t.Eb(0,[(l()(),t.ob(0,0,null,null,1,"button",[],[[2,"active",null]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.changeAndUpdateData(l.context.$implicit.name)&&t),t},null,null)),(l()(),t.Db(1,null,["",""]))],null,function(l,n){l(n,0,0,n.context.$implicit.name===n.component.currentType),l(n,1,0,n.context.$implicit.text)})}function w(l){return t.Eb(0,[(l()(),t.ob(0,0,null,null,1,"button",[],[[2,"active",null]],[[null,"click"]],function(l,n,u){var t=!0;return"click"===n&&(t=!1!==l.component.updateStatsWithParams(l.context.$implicit.name)&&t),t},null,null)),(l()(),t.Db(1,null,["",""]))],null,function(l,n){l(n,0,0,n.context.$implicit.name===n.component.currentAverage),l(n,1,0,n.context.$implicit.text)})}function x(l){return t.Eb(0,[(l()(),t.ob(0,0,null,null,16,"li",[],null,null,null,null,null)),(l()(),t.ob(1,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),t.ob(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Db(-1,null,["Task:"])),(l()(),t.Db(4,null,[" "," || "])),(l()(),t.ob(5,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),t.ob(6,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Db(-1,null,["Task owner:"])),(l()(),t.Db(8,null,[" "," || "])),(l()(),t.ob(9,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),t.ob(10,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Db(-1,null,["Time: "])),(l()(),t.Db(12,null,[" "," || "])),(l()(),t.ob(13,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),t.ob(14,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Db(-1,null,["Project:"])),(l()(),t.Db(16,null,[" "," "]))],null,function(l,n){var u=n.component;l(n,4,0,n.context.$implicit.name),l(n,8,0,n.context.$implicit.owner.nickname),l(n,12,0,u.getTime(n.context.$implicit.total)),l(n,16,0,n.context.$implicit.project.name)})}function y(l){return t.Eb(0,[(l()(),t.ob(0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),t.ob(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),t.Db(-1,null,["All task where you Worker"])),(l()(),t.ob(3,0,null,null,2,"ul",[],null,null,null,null,null)),(l()(),t.db(16777216,null,null,1,null,x)),t.nb(5,278528,null,0,r.i,[t.N,t.K,t.r],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,5,0,n.component.data)},null)}function O(l){return t.Eb(0,[(l()(),t.ob(0,0,null,null,16,"li",[],null,null,null,null,null)),(l()(),t.ob(1,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),t.ob(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Db(-1,null,["Task:"])),(l()(),t.Db(4,null,[" "," || "])),(l()(),t.ob(5,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),t.ob(6,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Db(-1,null,["Task worker:"])),(l()(),t.Db(8,null,[" "," || "])),(l()(),t.ob(9,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),t.ob(10,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Db(-1,null,["Time: "])),(l()(),t.Db(12,null,[" "," || "])),(l()(),t.ob(13,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),t.ob(14,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Db(-1,null,["Project:"])),(l()(),t.Db(16,null,[" "," "]))],null,function(l,n){var u=n.component;l(n,4,0,n.context.$implicit.name),l(n,8,0,n.context.$implicit.worker.nickname),l(n,12,0,u.getTime(n.context.$implicit.total)),l(n,16,0,n.context.$implicit.project.name)})}function j(l){return t.Eb(0,[(l()(),t.ob(0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),t.ob(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),t.Db(-1,null,["All task where you Owner"])),(l()(),t.ob(3,0,null,null,2,"ul",[],null,null,null,null,null)),(l()(),t.db(16777216,null,null,1,null,O)),t.nb(5,278528,null,0,r.i,[t.N,t.K,t.r],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,5,0,n.component.data)},null)}function I(l){return t.Eb(0,[(l()(),t.ob(0,0,null,null,20,"li",[],null,null,null,null,null)),(l()(),t.ob(1,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),t.ob(2,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Db(-1,null,["Project:"])),(l()(),t.Db(4,null,[" "," "])),(l()(),t.ob(5,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),t.ob(6,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Db(-1,null,["Task:"])),(l()(),t.Db(8,null,[" "," || "])),(l()(),t.ob(9,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),t.ob(10,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Db(-1,null,["Task owner:"])),(l()(),t.Db(12,null,[" "," || "])),(l()(),t.ob(13,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),t.ob(14,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Db(-1,null,["Task worker:"])),(l()(),t.Db(16,null,[" "," || "])),(l()(),t.ob(17,0,null,null,3,"span",[],null,null,null,null,null)),(l()(),t.ob(18,0,null,null,1,"b",[],null,null,null,null,null)),(l()(),t.Db(-1,null,["Time: "])),(l()(),t.Db(20,null,[" "," || "]))],null,function(l,n){var u=n.component;l(n,4,0,n.context.$implicit.project.name),l(n,8,0,n.context.$implicit.name),l(n,12,0,n.context.$implicit.owner.nickname),l(n,16,0,n.context.$implicit.worker.nickname),l(n,20,0,u.getTime(n.context.$implicit.total))})}function E(l){return t.Eb(0,[(l()(),t.ob(0,0,null,null,5,"div",[],null,null,null,null,null)),(l()(),t.ob(1,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),t.Db(-1,null,["All project where you Owner"])),(l()(),t.ob(3,0,null,null,2,"ul",[],null,null,null,null,null)),(l()(),t.db(16777216,null,null,1,null,I)),t.nb(5,278528,null,0,r.i,[t.N,t.K,t.r],{ngForOf:[0,"ngForOf"]},null)],function(l,n){l(n,5,0,n.component.data)},null)}function $(l){return t.Eb(0,[(l()(),t.ob(0,0,null,null,10,"div",[],null,null,null,null,null)),(l()(),t.ob(1,0,null,null,1,"app-chart",[],null,null,null,m,p)),t.nb(2,114688,null,0,s,[],{chartLabels:[0,"chartLabels"],chartData:[1,"chartData"]},null),(l()(),t.ob(3,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),t.Db(4,null,["Total Time: ",""])),(l()(),t.db(16777216,null,null,1,null,y)),t.nb(6,16384,null,0,r.j,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.db(16777216,null,null,1,null,j)),t.nb(8,16384,null,0,r.j,[t.N,t.K],{ngIf:[0,"ngIf"]},null),(l()(),t.db(16777216,null,null,1,null,E)),t.nb(10,16384,null,0,r.j,[t.N,t.K],{ngIf:[0,"ngIf"]},null)],function(l,n){var u=n.component;l(n,2,0,u.chartLabels,u.chartData),l(n,6,0,"worker"===u.currentType),l(n,8,0,"owner"===u.currentType),l(n,10,0,"owner-project"===u.currentType)},function(l,n){l(n,4,0,n.component.totalTime)})}function N(l){return t.Eb(0,[(l()(),t.ob(0,0,null,null,1,"app-loader",[],null,null,null,d.b,d.a)),t.nb(1,114688,null,0,f.a,[],null,null)],function(l,n){l(n,1,0)},null)}function A(l){return t.Eb(0,[(l()(),t.ob(0,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.db(16777216,null,null,1,null,T)),t.nb(2,278528,null,0,r.i,[t.N,t.K,t.r],{ngForOf:[0,"ngForOf"]},null),(l()(),t.ob(3,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t.ob(4,0,null,null,2,"div",[],null,null,null,null,null)),(l()(),t.db(16777216,null,null,1,null,w)),t.nb(6,278528,null,0,r.i,[t.N,t.K,t.r],{ngForOf:[0,"ngForOf"]},null),(l()(),t.db(16777216,null,null,1,null,$)),t.nb(8,16384,null,0,r.j,[t.N,t.K],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(l()(),t.db(0,[["loadingData",2]],null,0,null,N))],function(l,n){var u=n.component;l(n,2,0,u.btnTypes),l(n,6,0,u.btnAverage),l(n,8,0,!u.loading,t.xb(n,9))},null)}function F(l){return t.Eb(0,[(l()(),t.ob(0,0,null,null,1,"app-statistics",[],null,null,null,A,k)),t.nb(1,245760,null,0,o,[D],null,null)],function(l,n){l(n,1,0)},null)}var S=t.kb("app-statistics",o,F,{},{},[]),K=u("s7LF"),L=u("IheW"),P=u("fbMX"),C=u("iInd"),M=u("XPwU"),H=u("tHmd"),q=u("NHGN"),R=u("EApP"),W=u("MNke"),X=u("PCNd");class J{}u.d(n,"StatisticsRoutingModuleNgFactory",function(){return U});var U=t.lb(i,[],function(l){return t.ub([t.vb(512,t.j,t.Y,[[8,[b.a,S]],[3,t.j],t.w]),t.vb(4608,r.l,r.k,[t.t,[2,r.t]]),t.vb(4608,K.u,K.u,[]),t.vb(4608,L.h,L.n,[r.c,t.A,L.l]),t.vb(4608,L.o,L.o,[L.h,L.m]),t.vb(4608,P.a,P.a,[C.o]),t.vb(4608,L.k,L.k,[]),t.vb(6144,L.i,null,[L.k]),t.vb(4608,L.g,L.g,[L.i]),t.vb(6144,L.b,null,[L.g]),t.vb(4608,L.f,L.j,[L.b,t.q]),t.vb(4608,L.c,L.c,[L.f]),t.vb(5120,L.a,function(l,n,u,t,e){return[l,new M.a(n,u,t,e)]},[L.o,P.a,C.o,C.a,L.c]),t.vb(4608,K.e,K.e,[]),t.vb(4608,H.g,H.d,[L.c]),t.vb(5120,H.f,H.c,[[3,H.f],H.g,t.A,[2,H.b],[2,r.c]]),t.vb(4608,g.a,g.a,[L.c]),t.vb(4608,q.a,q.a,[R.j,P.a]),t.vb(1073742336,C.q,C.q,[[2,C.v],[2,C.o]]),t.vb(1073742336,r.b,r.b,[]),t.vb(1073742336,K.t,K.t,[]),t.vb(1073742336,K.k,K.k,[]),t.vb(1073742336,L.e,L.e,[]),t.vb(1073742336,L.d,L.d,[]),t.vb(1073742336,K.r,K.r,[]),t.vb(1073742336,c.b,c.b,[]),t.vb(1073742336,H.a,H.a,[]),t.vb(1073742336,W.b,W.b,[]),t.vb(1073742336,X.a,X.a,[]),t.vb(1073742336,J,J,[]),t.vb(1073742336,i,i,[]),t.vb(256,L.l,"XSRF-TOKEN",[]),t.vb(256,L.m,"X-XSRF-TOKEN",[]),t.vb(1024,C.m,function(){return[[{path:"",component:o}]]},[])])})}}]);